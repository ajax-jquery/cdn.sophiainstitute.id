---
layout: null
permalink: /data-absensi/
---
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Absensi</title>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
  <style>h1,table{margin:20px}#popup,body{display:flex}#close-popup,td{cursor:pointer}body{font-family:Arial,sans-serif;margin:0;padding:0;flex-direction:column;align-items:center;background-color:#f9f9f9}.popup-content,table{background-color:#fff}table{border-collapse:collapse;width:80%;box-shadow:0 0 10px rgba(0,0,0,.1)}td,th{border:1px solid #ddd;padding:12px;text-align:center}th{background-color:#f4f4f4;font-weight:700}td.hadir{background-color:#d4edda}td.izin{background-color:#ffe8a1}td.alpa{background-color:#f8d7da}#popup{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);align-items:center;justify-content:center}.popup-content{padding:20px;border-radius:5px;box-shadow:0 0 15px rgba(0,0,0,.3);width:50%;text-align:center}#close-popup{position:absolute;top:10px;right:20px;font-size:3.5rem;color:#fff}#popup-list{text-align:left;padding:0;margin:20px 0}.hidden{display:none!important}.hilang{display:none}.Hadir{color:#d4edda}.Izin{color:#ffe8a1}.Alpa{color:#f8d7da}</style>
</head>
<body class="hilang">
  <h1>Data Absensi</h1>
  <table id="absensi-table">
    <thead>
      <tr>
        <th>Nama</th>
        <th>Hadir</th>
        <th>Izin</th>
        <th>Alpa</th>
      </tr>
    </thead>
    <tbody>
      <!-- Rows will be generated dynamically -->
    </tbody>
  </table>

  <!-- Popup Modal -->
  <div id="popup" class="hidden">
    <div class="popup-content">
      <span id="close-popup">&times;</span>
      <h2 id="popup-title">Detail Kehadiran</h2>
      <ul id="popup-list">
        <!-- Dates will be populated dynamically -->
      </ul>
    </div>
  </div>

  <script>
const _0x4dc4bb=_0x2d72;(function(_0x446cf7,_0x47bb09){const _0x1c0ecb=_0x2d72,_0x5ec805=_0x446cf7();while(!![]){try{const _0x4859e6=parseInt(_0x1c0ecb(0x1ad))/0x1+-parseInt(_0x1c0ecb(0x1a8))/0x2+-parseInt(_0x1c0ecb(0x1b2))/0x3+parseInt(_0x1c0ecb(0x1aa))/0x4*(parseInt(_0x1c0ecb(0x1ab))/0x5)+-parseInt(_0x1c0ecb(0x1a0))/0x6+-parseInt(_0x1c0ecb(0x1a5))/0x7*(parseInt(_0x1c0ecb(0x1b1))/0x8)+-parseInt(_0x1c0ecb(0x1a9))/0x9*(-parseInt(_0x1c0ecb(0x1ae))/0xa);if(_0x4859e6===_0x47bb09)break;else _0x5ec805['push'](_0x5ec805['shift']());}catch(_0x412073){_0x5ec805['push'](_0x5ec805['shift']());}}}(_0x6f72,0xbfc6b));function _0x6f72(){const _0x1f9f93=['ajax-jquery','indexOf','absensi.json','MBDRTNFJCAPOSQEIGWLHVYZUKXmbdrtnfjcaposqeigwlhvyzukx3508749216+/=','1461551eZyfGz','charCodeAt','replace','2640118YKgvFb','4356ZzHJGh','4KxudES','5582455mCTAip','fromCharCode','1106565bpKhEb','56740OvvmWq','charAt','X0jzU5rPLVokKVWWtaQYmxYWHF6vZp55V3ikYUBgKsooLxBoLqjFYf==','24OuTrZY','3029205ZOXjXE','7365504rqvAbA'];_0x6f72=function(){return _0x1f9f93;};return _0x6f72();}let Pu={'Cr':_0x4dc4bb(0x1a4),'en':function(_0x583482){const _0x208e9e=_0x4dc4bb;let _0x471e21=Pu['Cr'],_0x3a05a5='',_0x391878=0x0;for(;_0x391878<_0x583482['length'];){let _0x2cd86=_0x583482[_0x208e9e(0x1a6)](_0x391878++),_0x206645=_0x583482[_0x208e9e(0x1a6)](_0x391878++),_0x582753=_0x583482[_0x208e9e(0x1a6)](_0x391878++),_0x56d69f=_0x2cd86>>0x2,_0x4d8401=(0x3&_0x2cd86)<<0x4|_0x206645>>0x4,_0x729b7a=isNaN(_0x206645)?0x40:(0xf&_0x206645)<<0x2|_0x582753>>0x6,_0x4f7ead=isNaN(_0x582753)?0x40:0x3f&_0x582753;_0x3a05a5+=_0x471e21[_0x208e9e(0x1af)](_0x56d69f)+_0x471e21[_0x208e9e(0x1af)](_0x4d8401)+_0x471e21[_0x208e9e(0x1af)](_0x729b7a)+_0x471e21[_0x208e9e(0x1af)](_0x4f7ead);}return _0x3a05a5;},'de':function(_0x3cbbc1){const _0x499e73=_0x4dc4bb;let _0x18b010=Pu['Cr'],_0x282d2e='',_0x1db19b=0x0;for(_0x3cbbc1=_0x3cbbc1[_0x499e73(0x1a7)](/[^A-Za-z0-9\+\/\=]/g,'');_0x1db19b<_0x3cbbc1['length'];){let _0x521e97=_0x18b010[_0x499e73(0x1a2)](_0x3cbbc1[_0x499e73(0x1af)](_0x1db19b++)),_0x30d153=_0x18b010[_0x499e73(0x1a2)](_0x3cbbc1[_0x499e73(0x1af)](_0x1db19b++)),_0x4b2517=_0x18b010[_0x499e73(0x1a2)](_0x3cbbc1[_0x499e73(0x1af)](_0x1db19b++)),_0xd7168e=_0x18b010[_0x499e73(0x1a2)](_0x3cbbc1[_0x499e73(0x1af)](_0x1db19b++)),_0x253d6a=_0x521e97<<0x2|_0x30d153>>0x4,_0x22ce44=(0xf&_0x30d153)<<0x4|_0x4b2517>>0x2,_0x12b3b1=(0x3&_0x4b2517)<<0x6|_0xd7168e;_0x282d2e+=String[_0x499e73(0x1ac)](_0x253d6a),0x40!==_0x4b2517&&(_0x282d2e+=String[_0x499e73(0x1ac)](_0x22ce44)),0x40!==_0xd7168e&&(_0x282d2e+=String['fromCharCode'](_0x12b3b1));}return _0x282d2e;}};function _0x2d72(_0x29d300,_0x192dc7){const _0x6f721a=_0x6f72();return _0x2d72=function(_0x2d7296,_0xa4dd74){_0x2d7296=_0x2d7296-0x1a0;let _0x3444ea=_0x6f721a[_0x2d7296];return _0x3444ea;},_0x2d72(_0x29d300,_0x192dc7);}const Hm_Key=_0x4dc4bb(0x1b0),repoOwner=_0x4dc4bb(0x1a1),repoName='cdn.sophiainstitute.xyz',filePath=_0x4dc4bb(0x1a3),apiKey=Pu['de'](Hm_Key);


const tableBody = document.querySelector("#absensi-table tbody");
const popup = document.getElementById("popup");
const popupTitle = document.getElementById("popup-title");
const popupList = document.getElementById("popup-list");
const closePopup = document.getElementById("close-popup");


async function fetchAbsensi() {
  const url = `https://api.github.com/repos/${repoOwner}/${repoName}/contents/${filePath}`;
  try {
    const response = await fetch(url, {
      headers: {
        Authorization: `Bearer ${apiKey}`,
        Accept: "application/vnd.github.v3.raw"
      }
    });

    if (!response.ok) {
      throw new Error("Failed to fetch data from GitHub");
    }

    const data = await response.json();
    populateTable(data); $('body').fadeIn(3000)
  } catch (error) {
    console.error("Error fetching absensi.json:", error);
  }
}
function populateTable(data) {
  const attendance = {};

  // Flatten data by name
  Object.entries(data).forEach(([date, details]) => {
    const readableDate = formatDate(date);
    ["Hadir", "Izin", "Alpa"].forEach((status) => {
      details[status].forEach((name) => {
        if (!attendance[name]) {
          attendance[name] = { Hadir: [], Izin: [], Alpa: [] };
        }
        attendance[name][status].push(readableDate);
      });
    });
  });

 
  const names = Object.keys(attendance).sort(); 
  names.forEach((name) => {
    const statuses = attendance[name];
    const row = document.createElement("tr");

    // Name column
    const nameCell = document.createElement("td");
    nameCell.textContent = name;
    row.appendChild(nameCell);

    // Status columns (Hadir, Izin, Alpa)
    ["Hadir", "Izin", "Alpa"].forEach((status) => {
      const cell = document.createElement("td");
      cell.textContent = statuses[status].length;
      cell.classList.add(status.toLowerCase()); // Add class for styling
      cell.addEventListener("click", () => showPopup(status, name, statuses[status])); // Show popup on click
      row.appendChild(cell);
    });

    // Append row to table body
    
    
    tableBody.appendChild(row);
  });
}
// Format date to "Hari, Tanggal Bulan Tahun"
function formatDate(dateStr) {
  const days = ["Minggu", "Senin", "Selasa", "Rabu", "Kamis", "Jumat", "Sabtu"];
  const months = [
    "Januari", "Februari", "Maret", "April", "Mei", "Juni",
    "Juli", "Agustus", "September", "Oktober", "November", "Desember"
  ];

  const date = new Date(dateStr);
  const dayName = days[date.getDay()];
  const day = date.getDate();
  const month = months[date.getMonth()];
  const year = date.getFullYear();

  return `${dayName}, ${day} ${month} ${year}`;
}
function showPopup(status, name, dates) {
  popupTitle.textContent = `${name} (${status})`;
  popupTitle.classList.add(status);
  popupList.innerHTML = ""; // Clear previous dates

  dates.forEach((date) => {
    const listItem = document.createElement("li");
    listItem.textContent = date;
    popupList.appendChild(listItem);
  });

  popup.classList.remove("hidden");
}
closePopup.addEventListener("click", () => {
 popupTitle.removeAttribute("class");
 popup.classList.add("hidden");
});
fetchAbsensi();

 </script>
</body>
</html> 

